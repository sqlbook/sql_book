<div class="workspace-card">
  <div class="details">
    <h4><%= link_to workspace.name, app_workspace_data_sources_path(workspace), class: "link secondary" %></h4>
    <p class="owner gray-300">Owner: <%= workspace.owner.full_name %></p>

    <% if request.path == app_workspace_path(workspace) %>
      <%= link_to app_workspaces_path(workspace), class: "link secondary settings" do %>
        <i class="ri-close-line red-500"></i>
        <span>Close</span>
      <% end %>
    <% else %>
      <%= link_to app_workspace_path(workspace), class: "link secondary settings" do %>
        <i class="ri-settings-3-line red-500"></i>
        <span>Settings</span>
      <% end %>
    <% end %>
  </div>
  <div class="stat data-sources">
    <p class="title gray-200">Data Sources</p>
    <h3 class="red-500">
      <%= workspace.data_sources.count %>
    </h3> 
    <p class="subtitle small gray-500">
      <%= link_to "View", app_workspace_data_sources_path(workspace), class: "link gray-500" %>
    </p>
  </div>
  <div class="stat queries">
    <p class="title gray-200">Queries</p>
    <h3 class="red-500">
      <%= workspace.queries.count %>
    </h3>
    <p class="subtitle small gray-500">
      <%= link_to "View", app_workspace_queries_path(workspace), class: "link gray-500" %>
    </p>
  </div>
  <div class="stat dashboards">
    <p class="title gray-200">Dashboards</p>
    <h3 class="red-500">
      0
    </h3>
    <p class="subtitle small gray-500">
      <%= link_to "View", app_workspace_dashboards_path(workspace), class: "link gray-500" %>
    </p>
  </div>
  <div class="stat events">
    <p class="title gray-200">Events</p>
    <h3 class="red-500">
      <%= number_to_delimited(@workspaces_stats.monthly_events_for(workspace:)) %>
    </h3>
    <p class="subtitle small gray-500">
      / <%= number_to_delimited(@workspaces_stats.monthly_events_limit_for(workspace:)) %>
    </p>
  </div>
</div>
